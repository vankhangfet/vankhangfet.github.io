---
layout: post
title: Inversion of Control, DI là gì?
tags: [Design Patterns]
---
Mình nhận thấy có khá nhiều bạn gặp khó khăn trong việc hiểu và implment các khái niệm như DI, IoC. Post này mình sẽ tìm hiểu làm thế nào để triển khai IoC. Bài này mình dịch và tham khảo site sau: https://www.tutorialsteacher.com/ioc/inversion-of-control. Cá nhân mình thấy bài viết khá dễ hiểu và có tính thực hành cao. Để triển khai IoC, chúng ta folow theo step sau:

![ioc-step](https://www.tutorialsteacher.com/Content/images/ioc/ioc-step1.png "IoC steps")

Trước khi đi vào chi tiết thì chúng ta cần làm rõ một số điểm sau. IoC là design principle, nó không phải là một Pattern. 
IoC giúp chúng ta thiết kế chương trình loosely copupled. làm cho chương trình trở nên dễ test, mở rộng và bảo trì. 

![ioc-dip](https://www.tutorialsteacher.com/Content/images/ioc/principles-and-patterns.png "IoC&DIP")

Tuy nhiên để làm cho chương trình loosely, chúng ta phải kết hợp cả IoC và DIP chứ không chỉ áp dụng mỗi IoC. 

Chúng ta hãy xem những kiến trúc phổ biến như hình dưới:

![demo](https://www.tutorialsteacher.com/Content/images/ioc/demo-architecture.png "demo")

Trong kiến trúc N-tier, ta sẽ tập trung vào BusinessLogic class và  DataAccess class để hiểu về IoC. Ví dụ chương trình được thiết kễ như sau:

'''
public class CustomerBusinessLogic
{
    DataAccess _dataAccess;

    public CustomerBusinessLogic()
    {
        _dataAccess = new DataAccess();
    }

    public string GetCustomerName(int id)
    {
        return _dataAccess.GetCustomerName(id);
    }
}

public class DataAccess
{
    public DataAccess()
    {
    }

    public string GetCustomerName(int id) {
        return "Dummy Customer Name"; // get it from DB in real app
    }
}
'''

